!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("React")):"function"==typeof define&&define.amd?define(["React"],t):"object"==typeof exports?exports.ReactInputField=t(require("React")):e.ReactInputField=t(e.React)}(this,function(e){return function(e){function t(l){if(o[l])return o[l].exports;var n=o[l]={exports:{},id:l,loaded:!1};return e[l].call(n.exports,n,n.exports,t),n.loaded=!0,n.exports}var o={};return t.m=e,t.c=o,t.p="",t(0)}([function(e,t,o){"use strict";function l(){}var n=o(1),r=o(2),a={"true":{display:"inline-block"},"false":{cursor:"text",color:"transparent"}},i={displayName:"ReactInputField",propTypes:{validate:r.PropTypes.oneOfType([r.PropTypes.func,r.PropTypes.bool]),isEmpty:r.PropTypes.func,clearTool:r.PropTypes.bool},getInitialState:function(){return{defaultValue:this.props.defaultValue}},getDefaultProps:function(){return{focusOnClick:!0,defaultClearToolStyle:{fontSize:20,paddingRight:5,paddingLeft:5,alignSelf:"center",cursor:"pointer",userSelect:"none",boxSizing:"border-box"},clearToolColor:"#a8a8a8",clearToolOverColor:"#7F7C7C",defaultStyle:{display:"inline-flex",flexFlow:"row",alignItems:"stretch",border:"1px solid #a8a8a8",boxSizing:"border-box",height:30},defaultInvalidStyle:{border:"1px solid rgb(248, 144, 144)"},defaultInputStyle:{flex:1,border:0,height:"100%",padding:"6px 2px",outline:"none",boxSizing:"border-box"},defaultInputInvalidStyle:{},emptyValue:"",inputClassName:"",inputProps:null,clearTool:!0,defaultClassName:"z-field",emptyClassName:"z-empty-value",invalidClassName:"z-invalid",toolsPosition:"right"}},render:function(){void 0===this.valid&&(this.valid=!0);var e=this.prepareProps(this.props,this.state);this.valid!==e.valid&&"function"==typeof e.onValidityChange&&setTimeout(function(){e.onValidityChange(e.valid,e.value,e)},0),this.valid=e.valid,e.children=this.renderChildren(e,this.state);var t=n({},e);return delete t.value,delete t.placeholder,r.createElement("div",r.__spread({},t))},renderChildren:function(e,t){var o=this.renderField(e,t),l=this.renderTools(e,t),n=[o,e.children];return"after"==e.toolsPosition||"right"==e.toolsPosition?n.push.apply(n,l):n=(l||[]).concat(o),n},renderField:function(e){var t=this.prepareInputProps(e);return t.ref="input",e.inputFactory?e.inputFactory(t,e):r.createElement("input",r.__spread({},t))},renderTools:function(e,t){var o=this.renderClearTool(e,t),l=[o];return"function"==typeof e.tools&&(l=e.tools(e,o)),l},renderClearTool:function(e,t){if(e.clearTool&&!e.readOnly&&!e.disabled){var o=!this.isEmpty(e),l=a[o],i=n({},l,this.prepareClearToolStyle(e,t));return o||n(i,l),r.createElement("div",{className:"z-clear-tool",onClick:this.handleClearToolClick,onMouseDown:this.handleClearToolMouseDown,onMouseOver:this.handleClearToolOver,onMouseOut:this.handleClearToolOut,style:i},"âœ–")}},handleClearToolMouseDown:function(e){e.preventDefault()},handleClearToolOver:function(){this.setState({clearToolOver:!0})},handleClearToolOut:function(){this.setState({clearToolOver:!1})},isEmpty:function(e){var t=this.getEmptyValue(e);return"function"==typeof e.isEmpty?e.isEmpty(e,t):e.value+""==t+""},getEmptyValue:function(e){var t=e.emptyValue;return"function"==typeof t&&(t=t(e)),t},isValid:function(e){var t=e.value,o=!0;return"function"==typeof e.validate&&(o=e.validate(t,e)!==!1),o},getInput:function(){return this.refs.input.getDOMNode()},focus:function(){var e=this.getInput();e&&"function"==typeof e.focus&&e.focus()},handleClick:function(){this.props.focusOnClick&&!this.isFocused()&&this.focus()},handleMouseDown:function(e){(this.props.onMouseDown||l)(e)},handleClearToolClick:function(e){this.notify(this.getEmptyValue(this.props),e)},handleChange:function(e){e.stopPropagation(),this.notify(e.target.value,e)},handleSelect:function(e){e.stopPropagation(),(this.props.onSelect||l)(e)},notify:function(e,t){void 0===this.props.value&&this.setState({defaultValue:e}),(this.props.onChange||l)(e,this.props,t)},prepareProps:function(e,t){var o={};return n(o,e),o.value=this.prepareValue(o,t),o.valid=this.isValid(o),o.onClick=this.handleClick,o.onMouseDown=this.handleMouseDown,o.className=this.prepareClassName(o),o.style=this.prepareStyle(o),o},prepareValue:function(e,t){var o=void 0===e.value?t.defaultValue:e.value;return o},prepareClassName:function(e){var t=[e.className,e.defaultClassName];return this.isEmpty(e)&&t.push(e.emptyClassName),e.valid||t.push(e.invalidClassName),t.join(" ")},prepareStyle:function(e){var t=n({},e.defaultStyle,e.style);return e.valid||n(t,e.defaultInvalidStyle,e.invalidStyle),t},prepareInputProps:function(e){var t={className:e.inputClassName};return n(t,e.defaultInputProps,e.inputProps),t.key="field",t.value=e.value,t.placeholder=e.placeholder,t.onChange=this.handleChange,t.onSelect=this.handleSelect,t.style=this.prepareInputStyle(e),t.onFocus=this.handleFocus,t.onBlur=this.handleBlur,t.name=e.name,t.disabled=e.disabled,t.readOnly=e.readOnly,t},handleFocus:function(){this._focused=!0},handleBlur:function(){this._focused=!1},isFocused:function(){return!!this._focused},prepareInputStyle:function(e){var t=e.inputProps?e.inputProps.style:null,o=n({},e.defaultInputStyle,e.inputStyle,t);return e.valid||n(o,e.defaultInputInvalidStyle,e.inputInvalidStyle),o},prepareClearToolStyle:function(e,t){var o,l,r;t&&t.clearToolOver&&(o=e.defaultClearToolOverStyle,l=e.clearToolOverStyle),e.clearToolColor&&(r={color:e.clearToolColor},t&&t.clearToolOver&&e.clearToolOverColor&&(r={color:e.clearToolOverColor}));var a=n({},e.defaultClearToolStyle,o,r,e.clearToolStyle,l);return a}},s=r.createClass(i);s.descriptor=i,e.exports=s},function(e){"use strict";function t(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=Object.assign||function(e){for(var o,l,n=t(e),r=1;r<arguments.length;r++){o=arguments[r],l=Object.keys(Object(o));for(var a=0;a<l.length;a++)n[l[a]]=o[l[a]]}return n}},function(t){t.exports=e}])});